#!/usr/bin/env python3

import os
import subprocess

SOURCE_PATH = os.path.dirname(os.path.dirname(os.path.realpath(__file__)))
TARGET_PATH = os.path.join("/usr", "local", "bin")

for rel_path in os.listdir(SOURCE_PATH):
    if os.path.isdir(rel_path) or rel_path.endswith(".md"):
        pass
    else:
        source_path = os.path.join(SOURCE_PATH, rel_path)
        target_path = os.path.join(TARGET_PATH, rel_path)
        print(f"Symlinking {source_path} to {target_path}...")
        # Using subprocess bc os.symlink is weird, apparently
        subprocess.run(["ln", "-sf", source_path, target_path])
